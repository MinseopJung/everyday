import json
import database

def read_test(file_name):
	file = open(file_name,"r")
	txt = file.readline()
	#print(txt)


	#	json_object = '{"ASK": [{"a": 100, "b": 1.7}, {"a": 89.99999999, "b": 0.1}, {"a": 69.9797, "b": 1}, {"a": 49.99999999, "b": 0.1}, {"a": 10, "b": 1.7}, {"a": 8.99999999, "b": 0.2}, {"a": 6.9797, "b": 1}, {"a": 5, "b": 1}, {"a": 4.99999999, "b": 0.2}, {"a": 2, "b": 1}, {"a": 1, "b": 13116.5}, {"a": 0.89999999, "b": 0.2}, {"a": 0.88888888, "b": 1.1}, {"a": 0.843, "b": 4.2}, {"a": 0.83121, "b": 15.1}, {"a": 0.8, "b": 1}, {"a": 0.78017, "b": 1}, {"a": 0.72, "b": 9}, {"a": 0.71, "b": 1256.5}, {"a": 0.69797, "b": 1}, {"a": 0.5, "b": 2}, {"a": 0.49, "b": 200}, {"a": 0.484, "b": 0.1}, {"a": 0.41236, "b": 2}, {"a": 0.381497, "b": 1675.4}, {"a": 0.35232, "b": 1450.5}, {"a": 0.32, "b": 4}, {"a": 0.14000002, "b": 4.1}, {"a": 0.1, "b": 20635.6}, {"a": 0.09, "b": 1660}, {"a": 0.081497, "b": 1256.5}, {"a": 0.08, "b": 1000}, {"a": 0.079, "b": 800}, {"a": 0.078901, "b": 6000}, {"a": 0.07779429, "b": 5000}, {"a": 0.0735, "b": 490}, {"a": 0.07, "b": 1000}, {"a": 0.069797, "b": 1}, {"a": 0.06, "b": 4438.1}, {"a": 0.059499, "b": 3200}, {"a": 0.0545, "b": 3268.6}, {"a": 0.05, "b": 1001}, {"a": 0.049, "b": 4500.9}, {"a": 0.0484, "b": 0.1}, {"a": 0.04838, "b": 397.2}, {"a": 0.04104977, "b": 1598.1}, {"a": 0.04, "b": 2023.2}, {"a": 0.038, "b": 4502.5}, {"a": 0.03, "b": 31251.1}, {"a": 0.025, "b": 3575.2}, {"a": 0.02273832, "b": 0.9}, {"a": 0.02104977, "b": 1450}, {"a": 0.020906, "b": 220.9}, {"a": 0.020838, "b": 1589}, {"a": 0.02, "b": 4.5}, {"a": 0.0197995, "b": 432.4}, {"a": 0.019, "b": 10112.5}, {"a": 0.0189, "b": 810}, {"a": 0.01818181, "b": 5100}, {"a": 0.0148, "b": 2}, {"a": 0.01456502, "b": 23.2}, {"a": 0.0134, "b": 155.4}, {"a": 0.013, "b": 860.7}, {"a": 0.01281, "b": 50}, {"a": 0.0125, "b": 2290.9}, {"a": 0.01139672, "b": 4}, {"a": 0.0112, "b": 836.2}, {"a": 0.01104977, "b": 1176}, {"a": 0.010838, "b": 794.5}, {"a": 0.01, "b": 301.3}, {"a": 0.0099, "b": 290.1}, {"a": 0.009877, "b": 818.7}, {"a": 0.00969, "b": 1895.4}, {"a": 0.009043, "b": 2}, {"a": 0.009, "b": 700}, {"a": 0.00889999, "b": 1895.2}, {"a": 0.00881, "b": 50}, {"a": 0.00880731, "b": 4000}, {"a": 0.0087, "b": 2312}, {"a": 0.0085, "b": 3270.7}, {"a": 0.0084734, "b": 100}, {"a": 0.00838, "b": 4833.8}, {"a": 0.00836979, "b": 200}, {"a": 0.0082322, "b": 846.5}, {"a": 0.00819, "b": 110.3}, {"a": 0.00816979, "b": 200}, {"a": 0.0080965, "b": 865}, {"a": 0.0080838, "b": 1059.3}, {"a": 0.008, "b": 4525.9}, {"a": 0.00796979, "b": 200}, {"a": 0.00796, "b": 110.3}, {"a": 0.0079, "b": 2412}, {"a": 0.00789999, "b": 1895.2}, {"a": 0.0078, "b": 200}, {"a": 0.00776979, "b": 200}, {"a": 0.00756979, "b": 200}, {"a": 0.0075, "b": 700}, {"a": 0.00736979, "b": 200}, {"a": 0.00725, "b": 200}, {"a": 0.00716979, "b": 200}, {"a": 0.00703458, "b": 3009.5}, {"a": 0.007, "b": 1094}, {"a": 0.0069797, "b": 1}, {"a": 0.00696979, "b": 200}, {"a": 0.00693, "b": 1931.3}, {"a": 0.0068636, "b": 54613.9}, {"a": 0.00676979, "b": 200}, {"a": 0.0067, "b": 200}, {"a": 0.00656979, "b": 200}, {"a": 0.00655, "b": 150}, {"a": 0.0065, "b": 550}, {"a": 0.00636979, "b": 200}, {"a": 0.00616979, "b": 200}, {"a": 0.00600962, "b": 166.4}, {"a": 0.006, "b": 851}, {"a": 0.00596979, "b": 200}, {"a": 0.00595, "b": 250}, {"a": 0.0059, "b": 400}, {"a": 0.00585, "b": 200}, {"a": 0.00581, "b": 99.9}, {"a": 0.0058, "b": 100}, {"a": 0.00575, "b": 200}, {"a": 0.00571989, "b": 175}, {"a": 0.0057, "b": 150}, {"a": 0.00569, "b": 1895.2}, {"a": 0.0056, "b": 200}, {"a": 0.0055, "b": 804.9}, {"a": 0.00535, "b": 126.5}, {"a": 0.00532, "b": 12.9}, {"a": 0.00525, "b": 143.8}, {"a": 0.0051501, "b": 2085.2}, {"a": 0.005118, "b": 3177.9}, {"a": 0.005, "b": 5794.4}, {"a": 0.00499999, "b": 4753.6}, {"a": 0.00495247, "b": 2000}, {"a": 0.00495, "b": 100}, {"a": 0.00490731, "b": 3346.6}, {"a": 0.0049, "b": 368.3}, {"a": 0.00485, "b": 200}, {"a": 0.00484, "b": 0.3}, {"a": 0.0048, "b": 100}, {"a": 0.00475, "b": 150}, {"a": 0.0047, "b": 100}, {"a": 0.00465, "b": 200}, {"a": 0.0046, "b": 100}, {"a": 0.0045, "b": 200}, {"a": 0.004002, "b": 13.2}, {"a": 0.004, "b": 2803.6}, {"a": 0.00399898, "b": 5000}, {"a": 0.00391898, "b": 18500}, {"a": 0.0039, "b": 233.6}, {"a": 0.0038, "b": 200}, {"a": 0.00375, "b": 200}, {"a": 0.0037, "b": 200}, {"a": 0.0036, "b": 300}, {"a": 0.0035, "b": 200}, {"a": 0.00340731, "b": 4000}, {"a": 0.0031666, "b": 1.3}, {"a": 0.0030995, "b": 0.8}, {"a": 0.003, "b": 3957.5}, {"a": 0.00295124, "b": 13.9}, {"a": 0.00284899, "b": 36.8}, {"a": 0.00282828, "b": 2000}, {"a": 0.00254999, "b": 5}, {"a": 0.00252918, "b": 0.9}, {"a": 0.0025, "b": 1747.6}, {"a": 0.00210002, "b": 124.6}, {"a": 0.0021, "b": 2107.4}, {"a": 0.00200005, "b": 1.1}, {"a": 0.002, "b": 246}, {"a": 0.00199497, "b": 1.6}, {"a": 0.00198983, "b": 377.6}, {"a": 0.00194999, "b": 750.3}, {"a": 0.00194945, "b": 27.6}, {"a": 0.001937, "b": 164.1}, {"a": 0.0019364, "b": 4.8}, {"a": 0.0019, "b": 969.5}, {"a": 0.00189723, "b": 5007.3}, {"a": 0.00188994, "b": 53.2}, {"a": 0.00187, "b": 1.2}, {"a": 0.001834, "b": 53}, {"a": 0.00181818, "b": 2000}, {"a": 0.0018123, "b": 41.5}, {"a": 0.0018, "b": 688.7}, {"a": 0.00178, "b": 1103.3}, {"a": 0.0017488, "b": 2.9}, {"a": 0.001745, "b": 1.3}, {"a": 0.00171983, "b": 377.6}, {"a": 0.0016349, "b": 4.8}, {"a": 0.0016037, "b": 656.3}, {"a": 0.0016, "b": 401.9}, {"a": 0.00158808, "b": 3576.5}, {"a": 0.00153, "b": 1486.5}, {"a": 0.0015, "b": 2175.9}, {"a": 0.0014999, "b": 333}, {"a": 0.00149344, "b": 1.4}, {"a": 0.001441, "b": 1500}, {"a": 0.00143806, "b": 772}, {"a": 0.00141983, "b": 377.6}, {"a": 0.00140808, "b": 3576.4}, {"a": 0.0014, "b": 2946.3}, {"a": 0.00139511, "b": 1577.2}, {"a": 0.00137, "b": 15}, {"a": 0.001369, "b": 3.1}, {"a": 0.00135, "b": 30.2}, {"a": 0.00134899, "b": 27.5}, {"a": 0.0013, "b": 669.5}, {"a": 0.00129, "b": 499.1}, {"a": 0.0012655, "b": 2306.6}, {"a": 0.00126, "b": 488.3}, {"a": 0.001257, "b": 5}, {"a": 0.00125232, "b": 1289.3}, {"a": 0.00125, "b": 100}, {"a": 0.00123994, "b": 195.9}, {"a": 0.001235, "b": 723.4}, {"a": 0.00121983, "b": 377.6}, {"a": 0.0012037, "b": 328.2}, {"a": 0.0012, "b": 3003.7}, {"a": 0.00119999, "b": 160}, {"a": 0.001185, "b": 542.5}, {"a": 0.00118, "b": 11.7}, {"a": 0.00115, "b": 10.9}, {"a": 0.00114999, "b": 80}, {"a": 0.00111999, "b": 228.2}, {"a": 0.0011153, "b": 1.8}, {"a": 0.001115, "b": 30.2}, {"a": 0.0011148, "b": 50}, {"a": 0.00111, "b": 581.8}, {"a": 0.001105, "b": 100}, {"a": 0.00110002, "b": 249.2}, {"a": 0.0011, "b": 181}, {"a": 0.00109999, "b": 40}, {"a": 0.0010895, "b": 1500}, {"a": 0.00108, "b": 42}, {"a": 0.00106, "b": 1.9}, {"a": 0.00105, "b": 39.3}, {"a": 0.00104999, "b": 20}, {"a": 0.001037, "b": 164.1}, {"a": 0.00103349, "b": 500}, {"a": 0.00103, "b": 8.8}, {"a": 0.0010253, "b": 545}, {"a": 0.00102323, "b": 600}, {"a": 0.00102223, "b": 700}, {"a": 0.00102213, "b": 503}, {"a": 0.001022, "b": 500}, {"a": 0.00102022, "b": 171.4}, {"a": 0.0010202, "b": 1000}, {"a": 0.00101999, "b": 2}, {"a": 0.00101998, "b": 426.9}, {"a": 0.0010194, "b": 29}, {"a": 0.001015, "b": 90.3}, {"a": 0.00101474, "b": 500}, {"a": 0.00101454, "b": 500}, {"a": 0.00101315, "b": 7}, {"a": 0.00101222, "b": 5.1}, {"a": 0.00101194, "b": 500}, {"a": 0.001, "b": 611}, {"a": 0.00099999, "b": 741.6}, {"a": 0.00099501, "b": 300}, {"a": 0.0009945, "b": 1200}, {"a": 0.00099, "b": 549}, {"a": 0.00098989, "b": 200}, {"a": 0.00098973, "b": 214.9}, {"a": 0.0009893, "b": 4}, {"a": 0.000985, "b": 20.1}, {"a": 0.00097898, "b": 200}, {"a": 0.00096977, "b": 42.2}, {"a": 0.00096403, "b": 6.1}, {"a": 0.00096258, "b": 200}, {"a": 0.000957, "b": 42.6}, {"a": 0.00095419, "b": 2.1}, {"a": 0.00095, "b": 3007.8}, {"a": 0.00094999, "b": 1000}, {"a": 0.000949, "b": 200}, {"a": 0.00094878, "b": 200}, {"a": 0.00094022, "b": 200}, {"a": 0.00093989, "b": 200}, {"a": 0.00093978, "b": 50}, {"a": 0.00093898, "b": 1495}, {"a": 0.000935, "b": 200}, {"a": 0.00093467, "b": 9.5}, {"a": 0.00093281, "b": 10}, {"a": 0.00092655, "b": 500}, {"a": 0.00092347, "b": 200}, {"a": 0.00091499, "b": 969.8}, {"a": 0.00091497, "b": 50}, {"a": 0.00091, "b": 3.7}, {"a": 0.000908, "b": 2.5}, {"a": 0.0009, "b": 1583.5}, {"a": 0.0008999, "b": 35.4}, {"a": 0.00089798, "b": 200}, {"a": 0.00089289, "b": 445.4}, {"a": 0.00089022, "b": 200}, {"a": 0.00088987, "b": 50}, {"a": 0.00088979, "b": 6}, {"a": 0.00088888, "b": 100}, {"a": 0.00088887, "b": 236}, {"a": 0.0008888, "b": 2.9}, {"a": 0.00087987, "b": 50}, {"a": 0.00087, "b": 238.1}, {"a": 0.00086987, "b": 50}, {"a": 0.0008689, "b": 59.2}, {"a": 0.00086, "b": 1095}, {"a": 0.00085999, "b": 948.8}, {"a": 0.00085987, "b": 50}, {"a": 0.000859, "b": 1247.1}, {"a": 0.0008555, "b": 10}, {"a": 0.00085, "b": 53.8}, {"a": 0.00084987, "b": 50}, {"a": 0.00084968, "b": 4461.8}, {"a": 0.00084942, "b": 100}, {"a": 0.0008493, "b": 10}, {"a": 0.00084927, "b": 10}, {"a": 0.00084907, "b": 52}, {"a": 0.00084022, "b": 200}, {"a": 0.00083987, "b": 50}, {"a": 0.00083595, "b": 1000}, {"a": 0.00083594, "b": 100}, {"a": 0.00082987, "b": 50}, {"a": 0.00082848, "b": 100}, {"a": 0.00081987, "b": 50}, {"a": 0.00080987, "b": 50}, {"a": 0.00080973, "b": 1536.2}, {"a": 0.000809, "b": 3.8}, {"a": 0.00080898, "b": 194}, {"a": 0.00080333, "b": 10}, {"a": 0.00080111, "b": 15}, {"a": 0.00080078, "b": 31.9}, {"a": 0.0008, "b": 3}, {"a": 0.00079987, "b": 50}, {"a": 0.00079977, "b": 10}, {"a": 0.00079933, "b": 15}, {"a": 0.00079, "b": 227}, {"a": 0.00078987, "b": 50}, {"a": 0.00078777, "b": 10}, {"a": 0.00078739, "b": 1000}, {"a": 0.00078738, "b": 50}, {"a": 0.0007871, "b": 65}, {"a": 0.000787, "b": 200}, {"a": 0.000785, "b": 3}, {"a": 0.00078133, "b": 10}, {"a": 0.00078, "b": 37.9}, {"a": 0.00077987, "b": 50}, {"a": 0.00077, "b": 3}, {"a": 0.00076987, "b": 50}, {"a": 0.00076773, "b": 20}, {"a": 0.00076, "b": 3}, {"a": 0.00075987, "b": 50}, {"a": 0.00075449, "b": 270}, {"a": 0.00075, "b": 184.4}, {"a": 0.00074897, "b": 299.5}, {"a": 0.00074698, "b": 50}, {"a": 0.00074, "b": 3}, {"a": 0.00073074, "b": 50}, {"a": 0.00073, "b": 6.7}, {"a": 0.00072983, "b": 50}, {"a": 0.00072955, "b": 20}, {"a": 0.00072, "b": 83}, {"a": 0.00071825, "b": 10}, {"a": 0.00071397, "b": 11}, {"a": 0.00071391, "b": 10}, {"a": 0.00071, "b": 3}, {"a": 0.0007086, "b": 4.2}, {"a": 0.00070355, "b": 20}, {"a": 0.0007022, "b": 20}, {"a": 0.00070218, "b": 20}, {"a": 0.0007001, "b": 49.1}, {"a": 0.0007, "b": 3}, {"a": 0.00069991, "b": 20}, {"a": 0.00069976, "b": 30}, {"a": 0.0006997, "b": 50}, {"a": 0.0006996, "b": 50}, {"a": 0.00069707, "b": 50}, {"a": 0.000696, "b": 50}, {"a": 0.00068888, "b": 50}, {"a": 0.00068711, "b": 40}, {"a": 0.00068709, "b": 150}, {"a": 0.00068706, "b": 4}, {"a": 0.000687, "b": 40}, {"a": 0.00068643, "b": 16}, {"a": 0.00068627, "b": 20}, {"a": 0.00068557, "b": 250}, {"a": 0.00068533, "b": 40}, {"a": 0.00068477, "b": 40}, {"a": 0.00068467, "b": 10}, {"a": 0.00068411, "b": 40}, {"a": 0.00067975, "b": 17.4}, {"a": 0.00067954, "b": 1000}, {"a": 0.00067944, "b": 80}, {"a": 0.00067943, "b": 1000}, {"a": 0.00067937, "b": 253.3}, {"a": 0.000679, "b": 60}, {"a": 0.00067498, "b": 50}, {"a": 0.0006749, "b": 190}, {"a": 0.00067487, "b": 40}, {"a": 0.00067485, "b": 50}, {"a": 0.00067477, "b": 40}, {"a": 0.00067465, "b": 40}, {"a": 0.00067464, "b": 24.4}, {"a": 0.000674, "b": 56}], "BID": [{"a": 0.00063201, "b": 45}, {"a": 0.000632, "b": 230}, {"a": 0.00062823, "b": 153.9}, {"a": 0.00062822, "b": 515}, {"a": 0.00062801, "b": 44.9}, {"a": 0.000628, "b": 10.8}, {"a": 0.00062712, "b": 300}, {"a": 0.00062711, "b": 22.4}, {"a": 0.000627, "b": 159.5}, {"a": 0.00062501, "b": 50}, {"a": 0.000625, "b": 511.1}, {"a": 0.00062402, "b": 19.7}, {"a": 0.00062366, "b": 291.9}, {"a": 0.000622, "b": 100}, {"a": 0.0006211, "b": 50}, {"a": 0.00062101, "b": 664.7}, {"a": 0.000621, "b": 2562.8}, {"a": 0.00062, "b": 362.8}, {"a": 0.00061502, "b": 376}, {"a": 0.000615, "b": 515.3}, {"a": 0.0006145, "b": 564.6}, {"a": 0.00061317, "b": 1000}, {"a": 0.000612, "b": 64.3}, {"a": 0.000611, "b": 100}, {"a": 0.00061, "b": 391.7}, {"a": 0.0006022, "b": 192.7}, {"a": 0.00060211, "b": 1167.8}, {"a": 0.0006002, "b": 10.8}, {"a": 0.00060001, "b": 571.3}, {"a": 0.0006, "b": 330.8}, {"a": 0.00059, "b": 110}, {"a": 0.00058888, "b": 118}, {"a": 0.000583, "b": 399}, {"a": 0.000582, "b": 216.4}, {"a": 0.00058004, "b": 50}, {"a": 0.00058002, "b": 80}, {"a": 0.00058, "b": 27.9}, {"a": 0.00057502, "b": 170.6}, {"a": 0.0005714, "b": 20}, {"a": 0.000571, "b": 345.5}, {"a": 0.0005701, "b": 4}, {"a": 0.00057, "b": 14}, {"a": 0.00056, "b": 92.2}, {"a": 0.000559, "b": 227}, {"a": 0.00055614, "b": 9.4}, {"a": 0.00055539, "b": 476.7}, {"a": 0.0005508, "b": 304.2}, {"a": 0.00055, "b": 10230.7}, {"a": 0.00054667, "b": 50}, {"a": 0.000546, "b": 10}, {"a": 0.0005453, "b": 50}, {"a": 0.00054, "b": 6660.4}, {"a": 0.0005373, "b": 71.6}, {"a": 0.000522, "b": 669.8}, {"a": 0.00052, "b": 13.8}, {"a": 0.00051111, "b": 6211.5}, {"a": 0.00051, "b": 199.1}, {"a": 0.0005055, "b": 138}, {"a": 0.0005011, "b": 50}, {"a": 0.000501, "b": 500}, {"a": 0.0005, "b": 904.5}, {"a": 0.000486, "b": 2000.1}, {"a": 0.00048537, "b": 64.4}, {"a": 0.0004822, "b": 130.7}, {"a": 0.00046779, "b": 3.7}, {"a": 0.00046, "b": 2053.3}, {"a": 0.00045, "b": 300}, {"a": 0.000442, "b": 32.5}, {"a": 0.00043, "b": 80}, {"a": 0.00042354, "b": 67.8}, {"a": 0.0004211, "b": 50}, {"a": 0.00042, "b": 194}, {"a": 0.0004, "b": 1199.5}, {"a": 0.00038, "b": 1000}, {"a": 0.0003562, "b": 176.9}, {"a": 0.00032547, "b": 88.2}, {"a": 0.00031474, "b": 22.6}, {"a": 0.00030861, "b": 356.3}, {"a": 0.0003, "b": 1052.9}, {"a": 0.000291, "b": 37}, {"a": 0.00028, "b": 22.8}, {"a": 0.0002431, "b": 307.9}, {"a": 0.00011111, "b": 28573.3}, {"a": 0.00010603, "b": 568.7}, {"a": 0.0001, "b": 11.6}, {"a": 2.989e-05, "b": 1884.1}, {"a": 1.08e-05, "b": 7948.6}, {"a": 1.07e-05, "b": 8023}, {"a": 1.01e-05, "b": 100}, {"a": 1e-05, "b": 200}, {"a": 5.01e-06, "b": 8497.8}, {"a": 1.1e-06, "b": 1000}], "datetime": "2019-11-11 00:02:02"}' 
	json_object = txt
	python_dict = json.loads(json_object)

	return python_dict



def read_json(depth_dict, time_ymd, time_hms, file_order, ask_bid, print_savedb, db):	#	ASK or BID
	for i in range(0, len(depth_dict[ ask_bid ])):
		if print_savedb == "print":
			print(i)
			print(depth_dict[ ask_bid ][i])

		elif print_savedb == "savedb":
			#print("print_savedb :: ")
			#print(depth_dict[ ask_bid ][i]["a"])
			#print(str(depth_dict[ ask_bid ][i]["a"]) + " - " + str(depth_dict[ ask_bid ][i]["b"]))
			database.insert_data(db, time_ymd, time_hms, file_order, ask_bid, i, depth_dict[ ask_bid ][i]["a"], depth_dict[ ask_bid ][i]["b"])
			db.commit()
		else:
			print("ERROR - read_json()")
			break;
